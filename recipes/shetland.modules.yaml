modules:
  - from-file: shetland.modules.d/10-shetland.yaml
  - from-file: shetland.modules.d/30-branding.yaml
  - type: dnf
    install-weak-deps: false
    install:
      packages:
         - "crun"
         - "podman"
         - "podman-compose"
         - "skopeo"
         - "cosign"
         - "waydroid"
         - "fuse3"
         - "dash"
         - "moby-engine"
         - "docker-cli"
         - "moby-filesystem"
         - "docker-compose"
         - "dash"
         - "helix"
         - "pciutils"
         - "screen"
         - "cockpit"
         - "cockpit-podman"
         - "cockpit-ostree"
         - "cockpit-machines"
         - "cockpit-files"
    remove:
      packages:
        - "vim-enhanced"
        - "vim-minimal"
        - "vim-data"
        - "nano"
        - "fuse"
  - type: script
    snippets:
      - "echo "EDITOR=/usr/bin/hx" | tee -a /usr/lib/environment.d/99-environment.conf"
      - "echo "NoDisplay=true" | tee -a /usr/share/applications/Helix.desktop"
      - "ln -sfT /usr/bin/hx /usr/bin/helix"
      - "ln -sfT /usr/bin/hx /usr/bin/editor"
      - "ln -sfT /usr/bin/dash /usr/bin/sh"
      #- "curl -sfL https://get.k3s.io | sh -"
  - type: systemd
    system:
      enabled:
        - "cockpit.socket"
        - "cockpit.service'
        
