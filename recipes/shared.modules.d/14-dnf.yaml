modules:
    - type: script
      snippets:
        - "dnf config-manager setopt tailscale-stable.enabled=1"
        - "dnf config-manager setopt terra.enabled=1"
        - "dnf config-manager setopt terra-extras.enabled=1"
        - "dnf config-manager setopt terra-mesa.enabled=1"
        - "dnf copr enable ublue-os/packages"
        - "dnf copr enable phracek/pycharm"
        - "dnf copr enable che/nerd-fonts"
        - "dnf copr enable ublue-os/akmods"
        - "dnf copr enable bieszczaders/kernel-cachyos-addons"
        - "dnf update --refresh -y"
    - type: dnf
      repos:
        copr:
          - "varlad/zellij"
        files:
          remove:
            - "updates-archive"
      remove:
        auto-remove: true
        packages:
           - "fuse"
           - "gnome-shell-extension-hotedge"
           - "gnome-shell-extension-logo-menu"
           - "gnome-shell-extension-just-perfection"
           - "gnome-shell-extension-compiz-alike-magic-lamp-effect"
           - "gnome-shell-extension-compiz-windows-effect"
           - "gnome-shell-extension-desktop-cube"
           - "gnome-shell-extension-window-list"
           - "gnome-shell-extension-restart-to"
           - "gnome-shell-extension-burn-my-windows"
           - "gnome-shell-extension-places-menu"
           - "gnome-shell-extension-launch-new-instance"
           - "gnome-shell-extension-coverflow-alt-tab"
           - "gnome-shell-extension-apps-menu"
           - "gnome-shell-extension-user-theme"
           - "gnome-shell-extension-tailscale-gnome-qs"
           - "gnome-shell-extension-search-light"
           - "gnome-shell-extension-gsconnect"
           - "gnome-shell-extension-dash-to-dock"
           - "gnome-shell-extension-blur-my-shell"
           - "gnome-shell-extension-appindicator"
      install:
          install-weak-deps: false
          packages:
            - "virt-install"
            - "libvirt-daemon-config-network"
            - "libvirt-daemon-kvm"
            - "edk2-ovmf"
            - "libguestfs-tools"
            - "python3-libguestfs"
            - "virt-top"
            - "swtpm"
            - "bridge-utils"
            - "gnome-boxes"
            - "cmake"
            - "gcc"
            - "gcc-c++"
            - "libglvnd-devel"
            - "fontconfig-devel"
            - "spice-protocol"
            - "make"
            - "nettle-devel"
            - "pkgconf-pkg-config"
            - "binutils-devel"
            - "libXi-devel"
            - "libXinerama-devel"
            - "libXcursor-devel"
            - "libXpresent-devel"
            - "libxkbcommon-x11-devel"
            - "wayland-devel"
            - "wayland-protocols-devel"
            - "libXScrnSaver-devel"
            - "libXrandr-devel"
            - "dejavu-sans-mono-fonts"
            - "libdecor-devel"
            #- "pipewire-devel"
            - "pulseaudio-libs-devel"
            - "libsamplerate-devel"
            - "go"
            - "gstreamer1-plugin-libav"
            - "gstreamer1-plugins-bad-free-extras"
            #- "gstreamer1-plugins-bad-freeworld"
            - "gstreamer1-plugins-ugly"
            - "gstreamer1-vaapi"
            - "libaacs"
            - "libbdplus"
            - "libbluray"
            - "libdvdcss"
            - "steam"
            - "steam-devices"
            #- "lutris"
            - "gamemode"
            - "mangohud"
            - "gamescope"
            - "vkbasalt"
            - "vulkan-tools"
            - "crun"
            - "podman"
            - "podman-compose"
            - "skopeo"
            - "cosign"
            - "waydroid"
            #- "scrcpy"
            - "android-tools"
            - "fuse3"
            - "dash"
            - "helix"
            - "corectrl"
            - "pciutils"
            - "openrgb"
            - "fedora-flathub-remote"
            - "nu"
            - "zoxide"
            - "ydotool"
            #- "ghostty"
            - "zellij"
            - "btop"
    - type: script
      snippets:
        - "dnf config-manager setopt tailscale-stable.enabled=0"
        - "dnf config-manager setopt terra.enabled=0"
        - "dnf config-manager setopt terra-extras.enabled=0"
        - "dnf config-manager setopt terra-mesa.enabled=0"
        - "dnf copr disable ublue-os/packages"
        - "dnf copr disable phracek/pycharm"
        - "dnf copr disable che/nerd-fonts"
        - "dnf copr disable ublue-os/akmods"
        - "dnf copr disable bieszczaders/kernel-cachyos-addons"
